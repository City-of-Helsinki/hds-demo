"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[3138],{42271:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return d},default:function(){return N}});var a=n(45987),l=(n(67294),n(64983)),r=n(9460),i=n(77440);const o=["components"],d={slug:"/components/keyboard-navigation/code",title:"KeyboardNavigation - Code"},p=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.kt)("div",t)},s=p("IconCheckCircleFill"),m=p("Link"),k=p("ExternalLink"),c={_frontmatter:d},u=e=>{let{children:t,pageContext:n}=e;return(0,l.kt)(i.default,{pageContext:n},t)};function N(e){let{components:t}=e,n=(0,a.Z)(e,o);return(0,l.kt)(u,Object.assign({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h3",{id:"code-examples",style:{position:"relative"}},"Code examples",(0,l.kt)("a",{parentName:"h3",href:"#code-examples","aria-label":"code examples permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)("h4",{id:"component-usage",style:{position:"relative"}},"Component usage",(0,l.kt)("a",{parentName:"h4",href:"#component-usage","aria-label":"component usage permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)(r.ZP,{mdxType:"Playground"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"() => {\n  const ulStyle = {\n    listStyle: 'none',\n    display: 'flex',\n    border: '1px solid #000',\n    padding: '0',\n    position: 'relative',\n  };\n  const liStyle = {\n    padding: '10px',\n  };\n  return (\n    <KeyboardNavigation>\n      <ul style={ulStyle}>\n        <li style={liStyle}>\n          <a href=\"#\" tabindex=\"0\">\n            Item 1\n          </a>\n        </li>\n        <li style={liStyle}>\n          <a href=\"#\" tabindex=\"0\">\n            Item 2\n          </a>\n        </li>\n        <li style={liStyle}>\n          <a href=\"#\" tabindex=\"0\">\n            Item 3\n          </a>\n        </li>\n      </ul>\n    </KeyboardNavigation>\n  );\n};\n"))),(0,l.kt)("h4",{id:"hook-usage",style:{position:"relative"}},"Hook usage",(0,l.kt)("a",{parentName:"h4",href:"#hook-usage","aria-label":"hook usage permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)(r.ZP,{mdxType:"Playground"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"() => {\n  const { ref } = useKeyboardNavigation();\n  const ulStyle = {\n    listStyle: 'none',\n    display: 'flex',\n    border: '1px solid #000',\n    padding: '0',\n    position: 'relative',\n  };\n  const liStyle = {\n    padding: '10px',\n  };\n  return (\n    <div ref={ref}>\n      <ul style={ulStyle}>\n        <li style={liStyle}>\n          <a href=\"#\" tabindex=\"0\">\n            Item 1\n          </a>\n        </li>\n        <li style={liStyle}>\n          <a href=\"#\" tabindex=\"0\">\n            Item 2\n          </a>\n        </li>\n        <li style={liStyle}>\n          <a href=\"#\" tabindex=\"0\">\n            Item 3\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n};\n"))),(0,l.kt)("h3",{id:"packages",style:{position:"relative"}},"Packages",(0,l.kt)("a",{parentName:"h3",href:"#packages","aria-label":"packages permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Package"),(0,l.kt)("th",{parentName:"tr",align:null},"Included"),(0,l.kt)("th",{parentName:"tr",align:null},"Storybook link"),(0,l.kt)("th",{parentName:"tr",align:null},"Source link"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"HDS React")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("div",{style:{display:"flex",gap:"var(--spacing-3-xs)"}},(0,l.kt)(s,{mdxType:"IconCheckCircleFill"})," Yes ")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)(m,{openInNewTab:!0,openInNewTabAriaLabel:"Opens in a new tab",href:"/storybook/react/?path=/story/components-keyboardnavigation--example",mdxType:"Link"},"View in Storybook")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)(k,{openInNewTab:!0,openInNewTabAriaLabel:"Opens in a new tab",href:"https://github.com/City-of-Helsinki/helsinki-design-system/tree/master/packages/react/src/components/keyboardNavigation",mdxType:"ExternalLink"},"View source"))))),(0,l.kt)("h3",{id:"properties",style:{position:"relative"}},"Properties",(0,l.kt)("a",{parentName:"h3",href:"#properties","aria-label":"properties permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)("p",null,"Note! You can find the full list of properties in the ",(0,l.kt)(m,{openInNewTab:!0,openInNewTabAriaLabel:"Opens in a new tab",href:"/storybook/react/?path=/story/components-keyboardnavigation--example",mdxType:"Link"},"React Storybook.")),(0,l.kt)("h4",{id:"keys",style:{position:"relative"}},"Keys",(0,l.kt)("a",{parentName:"h4",href:"#keys","aria-label":"keys permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)("p",null,"Keys define which way a key press commands the focus to move: ",(0,l.kt)("inlineCode",{parentName:"p"},"next"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"previous"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"levelDown"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"levelUp"),"\nEach key is an array of ",(0,l.kt)("inlineCode",{parentName:"p"},"KeyboardEvent")," key codes."),(0,l.kt)("p",null,"Default keys:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"next:")," ","['ArrowDown', 'ArrowRight']"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"previous:")," ","['ArrowUp', 'ArrowLeft']"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"levelDown:")," ","['']"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"levelUp:")," ","['Escape']")),(0,l.kt)("h4",{id:"onchange-callback",style:{position:"relative"}},"onChange callback",(0,l.kt)("a",{parentName:"h4",href:"#onchange-callback","aria-label":"onchange callback permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)("p",null,"When the focus changes, the callback is called with three arguments:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"event type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"next"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"previous"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"focusIn"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"focusOut"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"focusChange"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"dataUpdated"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"levelDown"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"levelUp"),";"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"tracker:")," the keyboard tracker instance"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"path:")," path to an element where the event occurred.")),(0,l.kt)("h4",{id:"selectors-focusableselector-and-containerselector",style:{position:"relative"}},"Selectors, focusableSelector and containerSelector",(0,l.kt)("a",{parentName:"h4",href:"#selectors-focusableselector-and-containerselector","aria-label":"selectors focusableselector and containerselector permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)("p",null,"Selectors can be defined as ",(0,l.kt)("inlineCode",{parentName:"p"},"selectors")," property with properties:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"containerElements:")," returns container elements for the given parent"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"focusableSelector:")," returns focusable elements for the given parent")),(0,l.kt)("p",null,"Both functions are type ",(0,l.kt)("inlineCode",{parentName:"p"},"(parent: HTMLElement, path: ElementPath) => HTMLElement[];")),(0,l.kt)("p",null,"Instead of ",(0,l.kt)("inlineCode",{parentName:"p"},"selectors"),", you can define ",(0,l.kt)("inlineCode",{parentName:"p"},"focusableElements")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"containerSelector")," which are both ",(0,l.kt)("inlineCode",{parentName:"p"},"string")," or functions ",(0,l.kt)("inlineCode",{parentName:"p"},"(parent, path)=> NodeList")),(0,l.kt)("h4",{id:"navigator",style:{position:"relative"}},"Navigator",(0,l.kt)("a",{parentName:"h4",href:"#navigator","aria-label":"navigator permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"navigator")," function returns elements for each direction: ",(0,l.kt)("inlineCode",{parentName:"p"},"next"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"previous"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"levelDown"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"levelUp"),".\nIt is called every time the navigation command is received. It is called with two arguments:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"elementOrPath:")," path to the current element"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"loop:")," current ",(0,l.kt)("inlineCode",{parentName:"li"},"loop")," value")),(0,l.kt)("h4",{id:"all-properties",style:{position:"relative"}},"All properties",(0,l.kt)("a",{parentName:"h4",href:"#all-properties","aria-label":"all properties permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Values"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"keys")),(0,l.kt)("td",{parentName:"tr",align:null},"Key codes for each direction"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"See above")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"See above"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"loop")),(0,l.kt)("td",{parentName:"tr",align:null},"Does the navigation loop around the first and last focusable"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"true"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"onChange")),(0,l.kt)("td",{parentName:"tr",align:null},"Callback fired when focus changes"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"function")),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"selectors")),(0,l.kt)("td",{parentName:"tr",align:null},"Selectors can be passed as a function which return array of HTML elements"),(0,l.kt)("td",{parentName:"tr",align:null},"``"),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"autoFocusAfterUpdate")),(0,l.kt)("td",{parentName:"tr",align:null},"If true, current focused element is re-focused after refresh() is called"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"navigator")),(0,l.kt)("td",{parentName:"tr",align:null},"Function to override the default navigator"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"function")),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"focusableSelector")),(0,l.kt)("td",{parentName:"tr",align:null},"Function or string used as focusable element selector"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"function")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"containerSelector")),(0,l.kt)("td",{parentName:"tr",align:null},"Function or string used as container element selector"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"function")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"[Table 1: useKeyboardNavigation properties]"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h3",{id:"returned-functions",style:{position:"relative"}},"Returned functions",(0,l.kt)("a",{parentName:"h3",href:"#returned-functions","aria-label":"returned functions permalink",className:"header-anchor after"},(0,l.kt)("span",{parentName:"a",className:"hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs","aria-hidden":"true",style:{verticalAlign:"middle"}}))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Function"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Arguments"),(0,l.kt)("th",{parentName:"tr",align:null},"Return value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"dispose")),(0,l.kt)("td",{parentName:"tr",align:null},"Removes all data and references"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"setFocusedElementByIndex")),(0,l.kt)("td",{parentName:"tr",align:null},"Sets focused element by the given index array or number. Negative numbers are accepted."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"number[]")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"number")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"setFocusToElement")),(0,l.kt)("td",{parentName:"tr",align:null},"Sets focus to the given element"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"HTMLElement")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"setFocusToElementDataOrPath")),(0,l.kt)("td",{parentName:"tr",align:null},"Sets focus to the element found with ElementData or ElementPath"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"ElementData")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"ElementPath")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"refresh")),(0,l.kt)("td",{parentName:"tr",align:null},"Remaps focusable elements and containers. Use when dom changes."),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"getNavigationOptions")),(0,l.kt)("td",{parentName:"tr",align:null},"Returns navigation options from the currently focused element."),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"NavigationOptions"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"getFocusedElement")),(0,l.kt)("td",{parentName:"tr",align:null},"Returns currently focused element"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"getFocusedElementPath")),(0,l.kt)("td",{parentName:"tr",align:null},"Sets new keys to track when keys are pressed"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"ElementPath"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"setKeys")),(0,l.kt)("td",{parentName:"tr",align:null},"Returns ElementPath to currently focused element"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Keys")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Keys"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"[Table 2: useKeyboardNavigation functions]"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})))))}N.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-docs-components-keyboard-navigation-code-mdx-aa42147019cb2a48873d.js.map