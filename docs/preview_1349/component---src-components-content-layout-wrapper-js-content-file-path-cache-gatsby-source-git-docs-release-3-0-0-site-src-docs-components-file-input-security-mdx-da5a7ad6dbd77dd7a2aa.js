"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[4624],{45793:function(e,t,a){a.d(t,{S:function(){return c}});var n=a(26206),r=a(96540),l=(a(71068),a(30934)),s=a(10393),i={statusLabel:"StatusLabel-module_statusLabel__1iSa6",statusLabelWithIcon:"StatusLabel-module_statusLabelWithIcon__3nZbg",statusLabelIcon:"StatusLabel-module_statusLabelIcon__2wChn",info:"StatusLabel-module_info__1lFA9",success:"StatusLabel-module_success__1mEVZ",alert:"StatusLabel-module_alert__1Fnb3",error:"StatusLabel-module_error__1-2nz"};(0,l.s)(".StatusLabel-module_statusLabel__1iSa6{--status-label-background:var(--color-black-10);--status-label-color:var(--color-black-90);--status-label-height:32px;background-color:var(--status-label-background);border-radius:20px;color:var(--status-label-color);display:inline-block;font-size:var(--fontsize-body-s);line-height:var(--status-label-height);min-height:var(--status-label-height);padding:0 var(--spacing-2-xs);vertical-align:middle}.StatusLabel-module_statusLabelWithIcon__3nZbg{align-items:center;display:inline-flex;padding-left:var(--spacing-3-xs)}.StatusLabel-module_statusLabelIcon__2wChn{height:var(--spacing-m);margin-right:var(--spacing-3-xs);width:var(--spacing-m)}.StatusLabel-module_info__1lFA9{--status-label-background:var(--color-info);--status-label-color:var(--color-white)}.StatusLabel-module_success__1mEVZ{--status-label-background:var(--color-success);--status-label-color:var(--color-white)}.StatusLabel-module_alert__1Fnb3{--status-label-background:var(--color-alert)}.StatusLabel-module_error__1-2nz{--status-label-background:var(--color-error);--status-label-color:var(--color-white)}");const o=e=>{let{icon:t}=e;return r.createElement("span",{className:i.statusLabelIcon,"aria-hidden":"true"},t)},c=e=>{var{children:t,className:a,type:l="neutral",iconStart:c}=e,d=(0,n._)(e,["children","className","type","iconStart"]);return r.createElement("span",Object.assign({className:(0,s.c)(i.statusLabel,i[l],c&&i.statusLabelWithIcon,a)},d),c&&r.createElement(o,{icon:c}),t)}},40461:function(e,t,a){var n=a(96540),r=a(87938);t.A=e=>{let{href:t,children:a,openInNewTab:l,openInNewTabAriaLabel:s,openInExternalDomainAriaLabel:i,size:o}=e;const c=l?{openInNewTab:l,openInNewTabAriaLabel:s||"Opens in a new tab."}:{};return n.createElement(r.L,Object.assign({href:t,openInExternalDomainAriaLabel:i||"Opens a different website.",external:!0},c,{size:o}),a)}},10807:function(e,t,a){var n=a(96540),r=a(87938),l=a(64810);t.A=e=>{let{href:t,children:a,openInNewTab:s,openInNewTabAriaLabel:i,size:o}=e;const c=s?{openInNewTab:s,openInNewTabAriaLabel:i||"Opens in a new tab."}:{};return n.createElement(r.L,Object.assign({href:(0,l.withPrefix)(t)},c,{size:o,onClick:e=>{e.preventDefault(),(0,l.navigate)(t)}}),a)}},38696:function(e,t,a){var n=a(96540);t.A=e=>{let{color:t="var(--color-black-90)",size:a="var(--fontsize-body-xl)",style:r={},children:l}=e;return n.createElement("p",{style:{fontSize:a,color:t,maxWidth:600,...r}},l)}},18781:function(e,t,a){var n=a(96540),r=a(64810),l=a(26199);const s="PageTabList",i="PageTabPanel",o="PageTab",c=e=>{var t;let{pageContext:a,children:c}=e;const d=a.frontmatter.slug,u=Array.isArray(c)?c:[c],m=u.find((e=>(0,n.isValidElement)(e)&&e.type.componentName===s)),p=u.find((e=>(0,n.isValidElement)(e)&&e.type.componentName===i)),h=null===(t=m.props)||void 0===t?void 0:t.children.filter((e=>e.type.componentName===o)),b=h.findIndex((e=>d.endsWith(e.props.href))),f=-1===b?0:b,g=0===f?d:(e=>`/${e.trim().split("/").filter((e=>!!e)).slice(0,-1).join("/")}`)(d);return n.createElement(l.a,{initiallyActiveTab:f},n.createElement(l.a.TabList,{className:"page-tabs-list"},h.map((e=>n.createElement(l.a.Tab,{key:e.props.href,onClick:()=>(0,r.navigate)(`${"/"===e.props.href?g:g+e.props.href}`)},e.props.children)))),h.map(((e,t)=>n.createElement(l.a.TabPanel,{key:e.props.href},f===t?p.props.children:n.createElement("div",null)))))},d=e=>{let{children:t}=e;return n.createElement(l.a.TabList,null,t)};d.componentName=s;const u=e=>{let{href:t,slug:a,children:r}=e;return n.createElement(l.a.Tab,null,r)};u.componentName=o;const m=e=>{let{children:t}=e;return n.createElement(l.a.TabPanel,null,t)};m.componentName=i,c.TabList=d,c.Tab=u,c.TabPanel=m,t.A=c},27727:function(e,t,a){a.d(t,{b1:function(){return T},E$:function(){return y},Ay:function(){return g}});var n=a(96540),r=a(28453),l=a(58397),s=a(74004),i=a.n(s),o=a(42773),c=a(42478),d=a(1063),u=a(26199),m=a(45603),p=a(91624),h=a(7818);var b=e=>{let{code:t}=e;const{0:a,1:r}=(0,n.useState)(null),{0:l,1:s}=(0,n.useState)(void 0);return(0,n.useEffect)((()=>{if((()=>{try{return"foobarfoobehind"==="foobarfoofoo".replace(new RegExp("(?<=foo)foo","g"),"behind")}catch(a){return!1}})()){const e=new h.wQ({extends:["html-validate:standard"],elements:[p]});s(new h.Yi(e))}}),[]),(0,n.useEffect)((()=>{if(l){const e=l.validateString(t);e.valid?r(null):r(e.results[0].messages[0])}}),[t,l]),l&&a?n.createElement("pre",{className:"live-error-core"},"SyntaxError: ",`${a.message} (${a.line}:${a.column})`):null};const f={allowedTags:!1,disallowedTagsMode:"discard",allowedAttributes:{"*":["aria-describedby","aria-hidden","aria-label","aria-labelledby","aria-level","class","checked","d","data-*","disabled","fill","for","height","href","id","name","onclick","patternUnits","patternunits","placeholder","points","rel","required","role","scope","span","style","tabIndex","target","transform","type","value","width","x","xmlns","y"],a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1};var g=e=>{let{children:t}=e;return t?n.createElement("pre",null,t):null};const E="playground-block-preview",v=e=>{let{children:t,className:a,...r}=e;return n.createElement("div",Object.assign({},r,{className:`${E} ${null!=a?a:""}`}),t)},y=e=>{let{...t}=e;return n.createElement(v,Object.assign({className:"playground-block-preview-light"},t))},k=e=>"jsx"===e,w=e=>{const t=e.trim();return t.startsWith("{")&&t.endsWith("}")?t.substr(1,t.length-2).trim():t};const x=e=>{let{code:t}=e;return n.createElement(v,{dangerouslySetInnerHTML:{__html:i()(t,f)}})},A=(0,l.fc)((e=>{let{onChange:t,initialCode:a,code:r,language:s}=e;const i=(0,n.useRef)(),u=(0,n.useRef)(),{0:p,1:h}=(0,n.useState)(0),f="COPY_SUCCESS",g="COPY_ERROR",{0:E,1:v}=(0,n.useState)(""),y=`code-block-textarea-${s}-${p}`,k=`code-block-helper-${s}-${p}`,w=(0,n.useCallback)((e=>e.querySelector(`#${y}`)),[y]),x=(0,n.useCallback)((e=>{if("Enter"===e.key&&i.current&&e.target===i.current){e.preventDefault();w(i.current).focus()}}),[w]);return(0,n.useEffect)((()=>{if(i.current){const e=w(i.current);e&&(e.setAttribute("aria-describedby",k),e.setAttribute("tabIndex","-1"),e.addEventListener("blur",(e=>{i.current&&!e.relatedTarget&&i.current.focus()})))}}),[w,k]),n.createElement(n.Fragment,null,n.createElement("div",{className:"playground-block-editor"},n.createElement("div",{className:"playground-block-editor-viewport",tabIndex:0,onKeyDown:x,ref:i},n.createElement("div",{className:"playground-block-editor-code"},n.createElement("div",{className:"playground-block-editor-texts"},n.createElement("label",{className:"playground-block-editor-label",htmlFor:y},"Editable code example"),n.createElement("span",{className:"playground-block-editor-helper",id:k},"Press Enter to start editing. Press Esc to stop editing.")),n.createElement("div",{className:"playground-block-editor-scrollbox",tabIndex:-1},n.createElement(l.w,{key:p,onChange:t,className:"playground-block-editor-code-input",textareaId:y,theme:m.A,language:s}))))),n.createElement("div",{className:"playground-block-buttons"},n.createElement(o.B,{ref:u,variant:"secondary",size:"small",onClick:async()=>{if(i.current&&u.current){const t=w(i.current);v("");try{await navigator.clipboard.writeText(t.value),v(f)}catch(e){v(g),console.warn(`Copy failed: ${e}`)}window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}}},"Copy code"),E===f&&n.createElement(c.N,{type:"success",label:"Code copied",position:"bottom-right",autoClose:!0,displayAutoCloseProgress:!1,onClose:()=>v("")},"Example code was copied to clipboard."),E===g&&n.createElement(c.N,{type:"error",label:"Copy failed",position:"bottom-right",displayAutoCloseProgress:!1,dismissible:!0,closeButtonLabelText:"Close toast",onClose:()=>{v(""),u.current&&u.current.focus()}},"Try again or copy the code using the clipboard."),n.createElement(o.B,{variant:"secondary",iconLeft:n.createElement(d.h,{"aria-hidden":!0}),size:"small",disabled:a===r,onClick:()=>{t(a),h(p+1),i.current&&i.current.focus()}},"Reset example")),"jsx"===s&&n.createElement(l.p1,null),"jsx"!==s&&n.createElement(b,{code:r}))})),T=e=>{const t={...(0,r.RP)(),...e.scope},a=(Array.isArray(e.children)?e.children:[e.children]).filter((e=>(0,n.isValidElement)(e))).map((e=>{let{props:t}=e;const a=t.children.props;return{code:a.children,language:a.className&&a.className.split("-")[1]}})),s=a.reduce(((e,t)=>(e[t.language]=t.code,e)),{}),{0:i,1:o}=(0,n.useState)(s),c=e=>t=>{o({...i,[e]:t})};return n.createElement("div",{className:"playground-block"},n.createElement(u.a,null,n.createElement(u.b,{className:"playground-block-tabs"},a.map((e=>{let{language:t}=e;return n.createElement(u.T,{key:t},k(t)?"React":"Core")}))),a.map((e=>{let{code:a,language:r}=e;const s=w(i[r]),o=()=>k(r)?n.createElement(l.pA,{className:E}):n.createElement(x,{code:s});return n.createElement(u.c,{key:r},n.createElement(l.Q,{code:s,transformCode:e=>`${function(e){return`render(${e.replace(/import\s*{\s*(\S+)(\s*,\s*\S+)*\s*}\s*from\s*'([^\s;]+)';?/g,"")})`}(e)}`,scope:t,language:r,noInline:!0},n.createElement("div",{className:"playground-block-content"},n.createElement(o,null),n.createElement(A,{initialCode:w(a),language:r,onChange:c(r),code:i[r]}))))}))))}},1897:function(e,t,a){var n=a(96540),r=a(91);t.A=()=>{const e={Draft:"The component is work in progress",Beta:"The component is being tested",Stable:"The component has been tested and defects have been fixed",Accessible:"The component has been reviewed for accessibility",Deprecated:"The component will be removed"};return n.createElement(r.T,{placement:"right-end",className:"status-label-tooltip",boxShadow:!0},n.createElement("ul",{class:"status-label-definitions"},Object.keys(e).map((t=>n.createElement("li",{key:t},n.createElement("span",{class:"status-name"},t),n.createElement("span",null,e[t]))))))}},87776:function(e,t,a){var n=a(96540),r=a(64810),l=a(66717),s=a(3261),i=a(87938),o=a(68154);function c(e){let{lang:t,meta:a,title:l,description:s,pageTitle:i}=e;const c=`${l} | ${i}`;return n.createElement(o.m,{htmlAttributes:{lang:t},title:c,meta:[{name:"description",content:s},{property:"og:title",content:c},{property:"og:description",content:s},{property:"og:type",content:"website"},{property:"og:image",content:"https://hds.hel.fi/images/homepage/amos58.jpg"}].concat(a)},n.createElement("link",{rel:"icon",type:"image/svg+xml",href:(0,r.withPrefix)("/favicon/light/favicon.svg"),media:"(prefers-color-scheme: light)"}),n.createElement("link",{rel:"icon",type:"image/png",sizes:"192x192",href:(0,r.withPrefix)("/favicon/light/favicon-192x192.png"),media:"(prefers-color-scheme: light)"}),n.createElement("link",{rel:"icon",type:"image/png",sizes:"512x512",href:(0,r.withPrefix)("/favicon/light/favicon-512x512.png"),media:"(prefers-color-scheme: light)"}),n.createElement("link",{rel:"apple-touch-icon",href:(0,r.withPrefix)("/favicon/light/apple-touch-icon.png"),media:"(prefers-color-scheme: light)"}),n.createElement("link",{rel:"icon",sizes:"any",href:(0,r.withPrefix)("/favicon/light/favicon-32x32.ico"),media:"(prefers-color-scheme: light)"}),n.createElement("link",{rel:"icon",type:"image/svg+xml",href:(0,r.withPrefix)("/favicon/dark/favicon.svg"),media:"(prefers-color-scheme: dark)"}),n.createElement("link",{rel:"icon",type:"image/png",sizes:"192x192",href:(0,r.withPrefix)("/favicon/dark/favicon-192x192.png"),media:"(prefers-color-scheme: dark)"}),n.createElement("link",{rel:"icon",type:"image/png",sizes:"512x512",href:(0,r.withPrefix)("/favicon/dark/favicon-512x512.png"),media:"(prefers-color-scheme: dark)"}),n.createElement("link",{rel:"apple-touch-icon",href:(0,r.withPrefix)("/favicon/dark/apple-touch-icon.png"),media:"(prefers-color-scheme: dark)"}),n.createElement("link",{rel:"icon",sizes:"any",href:(0,r.withPrefix)("/favicon/dark/favicon-32x32.ico"),media:"(prefers-color-scheme: dark)"}))}c.defaultProps={lang:"en",meta:[],description:""};var d=a(27727),u=a(47626),m=a(45603);var p=e=>{const t=e.children.props.className.match(/language-(?<lang>.*)/);return n.createElement(u.Ay,Object.assign({},u.Gs,{code:e.children.props.children.trim(),theme:m.A,language:t&&t.groups&&t.groups.lang?t.groups.lang:""}),(e=>{let{className:t,style:a,tokens:r,getLineProps:l,getTokenProps:s}=e;return n.createElement("pre",{className:`${t} syntax-highlighter`,style:a},r.map(((e,t)=>n.createElement("div",l({line:e,key:t}),e.map(((e,t)=>n.createElement("span",s({token:e,key:t}))))))))}))},h=a(45458);const b=e=>{var t;const a=e.children[0],r=e.children[1],l=(null===(t=r.props)||void 0===t?void 0:t.children)||[],s=Array.isArray(l)?l:[l],[i,o]=s.filter((e=>(0,n.isValidElement)(e))).reduce(((e,t,a,n)=>{var r,l;return a===n.length-1&&("string"==typeof(l=null===(r=t.props.children)||void 0===r?void 0:r[0].props.children)&&l.startsWith("[")&&l.endsWith("]"))?[e[0],t.props.children[0].props.children]:[[].concat((0,h.A)(e[0]),[t]),e[1]]}),[[],""]),c=[a,{...r,props:{...r.props,children:i}}],[d,u]=o?(e=>e.replace("[","").replace("]","").split(":"))(o):[void 0,void 0];return n.createElement("div",{class:"hds-table-container",tabindex:"0"},n.createElement("table",{class:"hds-table hds-table--dark","aria-label":"Service users (dark variant)"},d&&u&&n.createElement("caption",{className:"hds-table__caption"},n.createElement("b",null,d),": ",u),c))};b.Head=e=>{const t={...e.children,props:{...e.children.props,className:"hds-table__header-row dark"}};return n.createElement("thead",null,t)},b.Body=e=>n.createElement("tbody",{className:"hds-table__content"},e.children),b.Th=e=>n.createElement("th",{scope:"col"},e.children);var f=b,g=a(10807),E=a(40461);const v=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e=>e)).join(" ")};l.I,s.I,g.A,E.A,i.L,d.b1,d.E$},34468:function(e,t,a){var n=a(28453),r=a(96540),l=a(45793),s=a(1897),i=a(38696),o=(a(87776),a(18781));function c(e){const t=Object.assign({h1:"h1",a:"a",span:"span"},(0,n.RP)(),e.components);return o.A||d("PageTabs",!1),o.A.Tab||d("PageTabs.Tab",!0),o.A.TabList||d("PageTabs.TabList",!0),o.A.TabPanel||d("PageTabs.TabPanel",!0),r.createElement(r.Fragment,null,r.createElement(t.h1,{id:"fileinput",style:{position:"relative"}},"FileInput",r.createElement(t.a,{href:"#fileinput","aria-label":"fileinput permalink",className:"header-anchor after"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span class="hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs" aria-hidden="true" style="vertical-align: middle"></span>'}}))),"\n",r.createElement("div",{class:"status-label-description"},r.createElement(l.S,{type:"alert"},"Beta"),r.createElement(l.S,{type:"success",style:{marginLeft:"var(--spacing-xs)"}},"Accessible"),r.createElement(s.A)),"\n",r.createElement(i.A,null,"A file input helps the user to browse and select one or multiple files to be uploaded to the service."),"\n",r.createElement(o.A,{pageContext:e.pageContext},r.createElement(o.A.TabList,null,r.createElement(o.A.Tab,{href:"/"},"Usage"),r.createElement(o.A.Tab,{href:"/code"},"Code"),r.createElement(o.A.Tab,{href:"/accessibility"},"Accessibility"),r.createElement(o.A.Tab,{href:"/security"},"Security")),r.createElement(o.A.TabPanel,null,e.children)))}function d(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}t.A=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,n.RP)(),e.components);return t?r.createElement(t,e,r.createElement(c,e)):c(e)}},79655:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var n=a(28453),r=a(96540),l=a(34468),s=a(40461);const i=e=>{let{children:t,pageContext:a}=e;return r.createElement(l.A,{pageContext:a},t)};function o(e){const t=Object.assign({h2:"h2",a:"a",span:"span",p:"p",ul:"ul",li:"li"},(0,n.RP)(),e.components);return r.createElement(r.Fragment,null,r.createElement(t.h2,{id:"security",style:{position:"relative"}},"Security",r.createElement(t.a,{href:"#security","aria-label":"security permalink",className:"header-anchor after"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span class="hds-anchor-icon hds-icon hds-icon--link hds-icon--size-xs" aria-hidden="true" style="vertical-align: middle"></span>'}}))),"\n",r.createElement(t.p,null,"As HDS FileInput provides only the front-end solution, remember that you need to take care of the security in your project.\nBelow are some good practices you need to consider. For more detailed checklist, please refer to ",r.createElement(s.A,{href:"https://github.com/City-of-Helsinki/ASVS/blob/helsinki-4.0.1/4.0/en/0x20-V12-Files-Resources.md"},"Helsinki OWASP Application Security Verification Standard"),"."),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"Do not trust the front-end solution to validate the files for you. Validate files on the backend.","\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"Verify file type, file size, and name length."),"\n",r.createElement(t.li,null,"HDS FileInput verifies the file size and the file type based on the DOM File object properties. It does not examine the file contents. This validation is not sufficient in the backend since it can be bypassed for example by renaming the file."),"\n"),"\n"),"\n",r.createElement(t.li,null,"Always restrict and only allow file types related to the use case."),"\n",r.createElement(t.li,null,"Pay attention to error messages returned from the backend. Do not include information the user does not need, e.g. file paths."),"\n",r.createElement(t.li,null,"If files are uploaded from untrusted sources, make sure files are stored outside of the web root, with limited permissions, preferably with strong validation.","\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"Files from untrusted sources should also be scanned by antivirus scanners to prevent the upload of known malicious content."),"\n"),"\n"),"\n"))}var c=function(e){return void 0===e&&(e={}),r.createElement(i,e,r.createElement(o,e))};function d(e){let{children:t}=e;return r.createElement("div",null,t)}function u(e){return r.createElement(d,e,r.createElement(c,e))}}}]);